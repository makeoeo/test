<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">

       <!-- 회원가입 -->
   <insert id="register">
       INSERT INTO MEMBER( userNo, userId, userPass 
                         , userName, userRegi, userPhone 
                         , userEmail, useradd1, useradd2
                         , useradd3, useradd4   )
                     VALUES( seq_member.nextval, #{userId}, #{userPass}
                           , #{userName}, #{userRegi}, #{userPhone}
                           , #{userEmail}, #{useradd1}, #{useradd2}
                           , #{useradd3}, #{useradd4})
   
    </insert>
    <!-- 로그인 -->
	<select id="login" resultType="kr.lsh.vo.MemberVO">
		SELECT USERID, USERPASS, USERNAME, ADMIN
		  FROM MEMBER
		 WHERE USERID = #{userId} <!--  AND USERPASS = #{userPass} -->
	</select>
	
	
	<!-- 회원정보 수정 -->
	<update id="memberUpdate">
		UPDATE MEMBER SET 
		<!-- USERPASS = #{userPass}, -->
		USERNAME = #{userName},
		USERREGI = #{userRegi},
		USERPHONE = #{userPhone},
		USEREMAIL = #{userEmail},
		USERADD1 = #{useradd1},
		USERADD2 = #{useradd2},
		USERADD3 = #{useradd3},
		USERADD4 = #{useradd4}
		WHERE USERID = #{userId}
	</update>
		<!--회원정보수정뷰 -->
	<select id="updateView" parameterType="kr.lsh.vo.MemberVO" resultType="kr.lsh.vo.MemberVO">
		SELECT 			
				  USERID		
				, USERNAME 
				, USERREGI 
				, USERPHONE
				, USEREMAIL
				, USERADD1 
				, USERADD2 
				, USERADD3 
				, USERADD4 
		 FROM MEMBER
		WHERE USERID = #{userId}
	</select>
	
	<!-- 회원탈퇴 -->
	<delete id="memberDelete">
		DELETE FROM MEMBER
		WHERE USERID = #{userId}
		 <!--  AND USERPASS = #{userPass} --> 
	</delete>
	
	<!-- 패스워드 체크 -->
	<select id="passChk" resultType="int">
		SELECT COUNT(*) FROM MEMBER
		WHERE USERID = #{userId}
		  AND USERPASS = #{userPass}
	</select>
	
		<!-- 아이디 중복 체크 -->
	<select id="idChk" resultType="int">
		SELECT COUNT(*) FROM MEMBER
		WHERE USERID = #{userId}
	</select>
</mapper>